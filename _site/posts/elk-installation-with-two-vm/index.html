<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="ELK Installation With Two VMs For Home Lab" />
<meta property="og:locale" content="en" />
<meta name="description" content="Before We Start" />
<meta property="og:description" content="Before We Start" />
<link rel="canonical" href="http://localhost:4000/posts/elk-installation-with-two-vm/" />
<meta property="og:url" content="http://localhost:4000/posts/elk-installation-with-two-vm/" />
<meta property="og:site_name" content="Kevin Alexander" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-05-20T13:21:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="ELK Installation With Two VMs For Home Lab" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-05-20T13:21:00+07:00","datePublished":"2025-05-20T13:21:00+07:00","description":"Before We Start","headline":"ELK Installation With Two VMs For Home Lab","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/elk-installation-with-two-vm/"},"url":"http://localhost:4000/posts/elk-installation-with-two-vm/"}</script>
<!-- End Jekyll SEO tag -->


  <title>ELK Installation With Two VMs For Home Lab | Kevin Alexander
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Kevin Alexander">
<meta name="application-name" content="Kevin Alexander">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/profile/kev-avatar.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">Kevin Alexander</a>
    <p class="site-subtitle fst-italic mb-0">Just writing what I learn and experience here, kinda like journal. Thank you and feel free to read.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/kvalxnd3r"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://www.linkedin.com/in/kvn-alexander-707/"
          aria-label="linkedin"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-linkedin"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['kevalxndr97','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span>ELK Installation With Two VMs For Home Lab</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>ELK Installation With Two VMs For Home Lab</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1747722060"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  May 20, 2025
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://www.linkedin.com/in/kvn-alexander-707/">Kevin Alexander</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="5494 words"
>
  <em>30 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">ELK Installation With Two VMs For Home Lab</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">Contents</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">ELK Installation With Two VMs For Home Lab</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h2 id="before-we-start"><span class="me-2">Before We Start</span><a href="#before-we-start" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>This section is a explaination for what to expect in this blog and also serve as a shoutouts to all of the peoples that making knowledge in form of tutorials. With that being said, this is some of the people that helps me on this installation:</p>
<ul>
  <li><a href="https://www.youtube.com/@basedtutorials/videos">crin</a>, thank you for making discord server where newbie like me and others could gather and share knowledge.</li>
  <li>nubbieeee, thank you so much for reaching out to me on discord. Really appreciate your guide, with it  I’m able to present my progress.</li>
  <li><a href="https://www.linkedin.com/in/william-nissler-770583188/">Will Nissler</a> from <a href="https://www.leveleffect.com/">LevelEffect</a>, thank you for making the tutorial that I could use as a main guideline alongside with nubb tutorial. Your tutorial really have a lot of information.</li>
  <li>And other tutorial that I will list on the reference that helps me fix certain error and circumstances that I experience along my installation and setup progress.</li>
</ul>

<h2 id="what-to-expect-from-this-guide"><span class="me-2">What To Expect From This Guide</span><a href="#what-to-expect-from-this-guide" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>This guide is served as a supplementary and a note for present and future me or maybe others that will or want to start installing Elastic for home lab where it could be used as tools of experimenting and hands on learning of cyber security. By no means this guide is perfect and if you happen to encounter any error, use the material that I listed on the refence section or like the old saying <strong>Just google it</strong>. Because at the end of the day, cyber security is heavily relied on the so called <strong>professional googling</strong>. And don’t forget to ask ChatGPT, it really helps to direct you to more accurate answer.</p>

<p>I’m planning to make this guide into two parts or maybe more depending on my current assignment given to me. But for the time being it will be just two part. For this part one, I will focusing on installation and setting up the ELK stack and all of the VMs.</p>

<h2 id="some-stuff-that-you-will-learn"><span class="me-2">Some Stuff That You Will Learn</span><a href="#some-stuff-that-you-will-learn" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>There are some stuff here that I sure you will learn one or two when following this guide, some of it are:</p>
<ul>
  <li>Setting up and configuring VM with VirtualBox.</li>
  <li>A bit of networking stuff such as port forwarding, networking.</li>
  <li>ELK stack installation and understand how they work.</li>
</ul>

<p>And maybe many more that I couldn’t mention above. Hope this guide become useful for me in the future or for you guys too.</p>

<h2 id="objective-of-this-guide"><span class="me-2">Objective of This Guide</span><a href="#objective-of-this-guide" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Okay this will be the last I’ll yap other than the actual guide. So here’s some of the objective for part one of this guide series:</p>
<ul>
  <li>Setting up all of the VMs (i.e. Linux and Windows) to suit the requirement.</li>
  <li>Setting up VMs connection configuration.</li>
  <li>Installing and configure Elasticsearch on Ubuntu server VM.</li>
  <li>Installing and configure Kibana on Ubuntu server VM.</li>
  <li>Installing and configure Filebeat on Windows VM.</li>
  <li>Successfully login to ELK stack after the installation.</li>
</ul>

<h2 id="lets-begin"><span class="me-2">Let’s Begin</span><a href="#lets-begin" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Now in this section, we will begin the installation progress by first understanding what is ELK stack and then understand what this lab looks like on a diagram to further enhance our understanding of this lab. First thing first, what exactly is ELK stack? I’ll add my 2 cents here too since the <a href="https://www.elastic.co/elastic-stack">official documentation</a> already done such great detail in explaining it. Basically ELK is an acronym, Elasticsearch Logstash Kibana and each of that technology is serve their on purposes.</p>

<p>Elasticsearch is to search, analyze, and process all of the data that being collected. You could call it the engine of ELK stack and Logstash is the instrument that ingest all of that data from multiple sources to Elasticsearch and when the data arrived in Elasticsearch, it is then can be visualize by Kibana for making user more easy to understand all of those data in form of charts and graphs.</p>

<h3 id="diagram"><span class="me-2">Diagram</span><a href="#diagram" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>And with that explanation in mind, we then could utilize ELK stack as a SIEM to monitor our system. For the system of this lab, I will explain it with the diagram below to better understand the context of what it looks like:</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/siem-diagram.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/siem-diagram.png" alt="Desktop View" width="500" loading="lazy"></a>
<em>Here’s a simple diagram to illustrate our lab</em></p>

<p>I admit, it’s not fancy but for me it could convey what our lab will look like and this is as far as my understanding of the lab. But if you want a more detailed overview of the diagram, head to <a href="https://www.leveleffect.com/blog/how-to-set-up-your-own-home-lab-with-elk">William Nissler guide</a> he got to more detailed about it. So from that diagram, we want to install ELK stack on the ubuntu server with the listed ports and that port will be attached to the DHCP IP.</p>

<p>And the ELK stack will receiving log mainly from the Windows VM through sysmon, filebeat, windows event log, and powershell script. And also the Windows VM having the IP received from the DHCP process that can be used to make connection between two VMs. Lastly, the Windows analysis machine is our own PC that act as a monitoring device that can access the ELK stack with the localhost ip. But why <strong><em>localhost</em></strong> you say? To put it simply, we can’t just access the VMs directly because the nature of VM itself.</p>

<p>VM is run on their own separate kernel despite it’s still in our machine and that also mean they having their own network too, that is why in the diagram I put router to illustrate this process as router is the device that handling layer 3 i.e. network(IP, etc). And to access that network we have to set the NAT and some ports too if we have to use some protocol. We will go through this more in depth in the next section. But for now, just know that we can’t just access the VMs directly.</p>

<h2 id="linux-ubuntu-server-vm-installation"><span class="me-2">Linux Ubuntu Server VM Installation</span><a href="#linux-ubuntu-server-vm-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>In this section we will begin first with installing Ubuntu Server for our ELK stack. The Ubuntu Server version that I and some of the guides that I used is 18.04 LTS, the <a href="https://www.leveleffect.com/blog/how-to-set-up-your-own-home-lab-with-elk">LevelEffect guide</a> didn’t mention any reason as to why choosing this version but seeing the time of the blog being published was in 2022, my guess is version 18.04 is more stable than any version during that time.</p>

<p>And if we done choosing the version, here’s some requirement for the Ubuntu VM:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: left">Hardware Requirement</th>
      <th style="text-align: left"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">OS</td>
      <td style="text-align: left">Ubuntu Server 18.04</td>
    </tr>
    <tr>
      <td style="text-align: left">RAM</td>
      <td style="text-align: left">4 GB</td>
    </tr>
    <tr>
      <td style="text-align: left">CPU</td>
      <td style="text-align: left">2 Cores</td>
    </tr>
    <tr>
      <td style="text-align: left">Storage</td>
      <td style="text-align: left">30 GB</td>
    </tr>
  </tbody>
</table></div>

<p>I go with the requirement above because it suits my need and my hardware capability but if guys want to tweak some of the requirement then go ahead. With that being said, the steps for installing Ubuntu server is as follows:</p>
<ol>
  <li>Download it from the <a href="https://releases.ubuntu.com/18.04.6/ubuntu-18.04.6-live-server-amd64.iso">official Ubuntu server website</a>.</li>
  <li>After done downloading it, we then open VirtualBox and click <strong>Machine</strong> menu and select <strong>New…</strong>.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/new-machine.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/new-machine.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Selecting Machine To Create New VM</em></li>
  <li>It will then having <strong>Create Virtual Machine</strong> pop up, with it we could configure and set the properties of the VM. Just put the machine hardware just like our hardware requirement previously. One thing to note here is that, I checked the <strong>Skip Unattended Installation</strong> because if we want to use unattended installation that mean VirtualBox will handles the installation based on the provided setting and in this case we want to configure it manually.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/create-virtual-machine-menu.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/create-virtual-machine-menu.png" alt="Desktop View" width="700" loading="lazy"></a>
<em>Configuring VM Hardware</em></li>
  <li>Next, the VM will appear on the VirtualBox menu manager, select that and click on <strong>Start</strong> icon to start the VM installation.</li>
  <li>The VM starting and next thing is to select language, select whatever language that suits you but in this case I choose english for obvious reason.</li>
  <li>The language set is done, now we will greeted by Ubuntu Server version notification. For our case, just select <strong>Continue without updating</strong>
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/ubuntu-version-update-notification.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/ubuntu-version-update-notification.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Skipping Version Update Selection</em></li>
  <li>Here, there will be IP that we got from DHCP, note it because this is important for basically every next configuration.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/receiving-dhcp-ip-from-nat-network.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/receiving-dhcp-ip-from-nat-network.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Receiving IP DHCP</em></li>
  <li>If being asked to choose proxy on the next step, just skip it because we don’t need it.</li>
  <li>Also just go with the default mirror link. Basically this is just Ubuntu asking for sources to download its dependencies and packages.</li>
  <li>The next menu is storage partition. For me personally I’ll just go with the default but feel free if you guys want to get creative with it.</li>
  <li>Okay, next is configuring username and password for the Ubuntu. Remember also to make password that easy to remember but also not too easy to guess(it will be used a lot in the next steps). For this section, I’ll configure it like shown below but then again, feel free just go with something you guys want.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/ubuntu-username-and-password.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/ubuntu-username-and-password.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Creating Account For Ubuntu</em></li>
  <li>The account has made, we then continue to enabling SSH for this Ubuntu.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/enabling-ssh.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/enabling-ssh.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Selecting Enable SSH</em></li>
  <li>All of that has been done then we wait for the installation to finish. It will somewhat look like this or similar.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/first-look-of-linux-vbox.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/first-look-of-linux-vbox.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Ubuntu Server Successfully Installed</em></li>
</ol>

<p>Now with the installation complete I’ll add one more important thing to do before we proceed further. <strong>I want you guys make snapshot for each section of this guide</strong>. Yep, this will serve as a failsafe incase something went wrong, making it “point of return” for us(yes pun intended). Here’s how to do it:</p>
<ul>
  <li>Click on <strong>Machine</strong> menu again and select <strong>Take Snapshot…</strong>
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/making-first-snapshot.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/making-first-snapshot.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Selecting Take Snapshot</em></li>
  <li>After that there will be menu pop that want us to name the snapshot. The name will function as a description for what exactly is this snapshot that we make. So make sure the name and description is informative about what machine situation when the snapshot being made. 
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/finish-apt-update.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/finish-apt-update.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Making Snapshot Name and Description</em></li>
</ul>

<p>And with that our Ubuntu Server is done we could continue to next step, that is updating our Ubuntu with this commands. But we need to login to our Ubuntu. After done login, execute these steps:</p>

<h4 id="disclaimer-for-sudo-command"><span class="me-2">Disclaimer for sudo Command</span><a href="#disclaimer-for-sudo-command" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>
<p>From here on we will using <strong>A LOT</strong> really a lot <code class="language-plaintext highlighter-rouge">sudo</code> and it will often asking to enter our root password(same with your user password) that is why I said to use easy to remember password previously. Basically we want to minimize access to our root as little as possible because security concern(shoutout to nubb, thanks for the insight). Okay, on with the guide.</p>

<ol>
  <li>Enter command <code class="language-plaintext highlighter-rouge">sudo apt update &amp;&amp; sudo apt upgrade -y</code>. These commands will update and upgrading our existing packages.</li>
  <li>Next command <code class="language-plaintext highlighter-rouge">sudo apt dist-upgrade -y</code>. Same with previous but the difference is, this command will handle changes of the packages if necessary.</li>
  <li><code class="language-plaintext highlighter-rouge">sudo apt install zip unzip -y</code> is the next command, this command installing zip and unzip application for us to be able extracting zip format file and compressing file into it.</li>
  <li>Lastly there’s <code class="language-plaintext highlighter-rouge">sudo apt install jq -y</code> that used for JSON parsing and transformation. It’s just a fancy words that means our Ubuntu able to interact with JSON format file.</li>
</ol>

<p>With all of that being done, our Ubuntu is ready. Oh, and don’t forget to make snapshot here too just to be extra careful if you guys want.</p>

<h2 id="accessing-machine-through-ssh"><span class="me-2">Accessing Machine Through SSH</span><a href="#accessing-machine-through-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="checking-ubuntu-ssh"><span class="me-2">Checking Ubuntu SSH</span><a href="#checking-ubuntu-ssh" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>This section will focusing on SSH thingies, starting from checking it’s status, setting up NAT rules, and many more. I recommend using SSH to simulate remote connection within work environment and to avoid hassle of interacting directly with the VirtualBox(yes, it’s such a pain in the ass). But first thing first, login to the Ubuntu VM and execute this steps:</p>

<ol>
  <li>First, we have to check our Ubuntu SSH status. There’s some possibilities here, either our SSH is working or not. Let’s make sure of it with this command, <code class="language-plaintext highlighter-rouge">sudo systemctl status ssh</code>. On my case, the SSH is <strong>Active and running</strong> like shown below.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/checking-SSH-status.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/checking-SSH-status.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Making Snapshot Name and Description</em></li>
</ol>

<p>This is because we <strong>enabling SSH</strong> previously during our installation but in case if some of you guys seeing <strong>failed or dead status</strong> proceed to next steps.</p>
<ol>
  <li>Execute this command <code class="language-plaintext highlighter-rouge">sudo apt-get remove --purge openssh-server &amp;&amp; sudo apt-get update &amp;&amp; sudo apt-get install openssh-server</code>. That commands(I use plural here because there’s two command that being fused together with <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> operator) basically the commands will first remove and deleting all of the SSH files, service, etc and then installing it again.</li>
  <li>When it is done, you guys could run <code class="language-plaintext highlighter-rouge">sudo systemctl status ssh</code> and you should see a dead status but don’t worry, execute <code class="language-plaintext highlighter-rouge">sudo systemctl enable ssh</code> to enable the service and then <code class="language-plaintext highlighter-rouge">systemctl start ssh</code> to start it again. And now next check it’s status again, it should be running now. Don’t forget to make snapshot 📷 .</li>
</ol>

<h3 id="network-and-ssh-configuration"><span class="me-2">Network And SSH Configuration</span><a href="#network-and-ssh-configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Even with all of that progress previously, we still couldn’t even access the VM directly by their IP, nuh uh that would be too convenient. Welcome to IT world, where if it’s not pain in the ass you should suspect somethings wrong. So how do we SSH the VM then? well let’s get into it:</p>

<ol>
  <li>First head to our VirtualBox Manager menu and select the network option shown below.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/selecting-network-menu-on-virtualbox-manager-menu.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/selecting-network-menu-on-virtualbox-manager-menu.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Selecting Network Menu</em></li>
  <li>
    <p>After that there will be network menu, in it select <strong>NAT Network</strong> tab and click on <strong>Create</strong> icon to create new NAT Networks option.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/setting-ssh-forwarding-rules.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/setting-ssh-forwarding-rules.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Configuring NAT Network</em>
From the image above, we basically configuring our NAT Network to named “ElasticNetwork” to the network IP within prefix of 192.168.68.0/24 with DHCP server enabled. Below it, we could see there’s <strong>Port Forwaring</strong> tab where you could add by clicking on the green plus icon and set it’s name, the protocol which is TCP for SSH, host IP being left blank because we want it to be able receiving any IP other from the prefix range, the host port, guest IP with our own Ubuntu IP previously, and lastly the guest port being 22.</p>
  </li>
  <li>Next is to set our network mode for our Ubuntu VM, again we head to <code class="language-plaintext highlighter-rouge">Machine</code> &gt; <code class="language-plaintext highlighter-rouge">Settings</code> on our VM windows and after that select <strong>Network</strong> like shown below.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/selecting-network-mode.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/selecting-network-mode.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Setting Ubuntu Network Configuration</em>
Change the <strong>Attached to</strong> with <strong>NAT Network</strong>, name change it with the network that we make, and lastly I set the <strong>Promiscous Mode</strong> to <strong>Allow All</strong>. That make sure it could capture all traffic because well, this is a SIEM lab.</li>
</ol>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/ssh-to-vm.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/ssh-to-vm.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Successfully SSH To Ubuntu VM</em></p>

<p>Now all of that done, finally we are able to SSH to the VM and maybe some of you wondering why the IP is <code class="language-plaintext highlighter-rouge">127.0.0.1</code> and not <code class="language-plaintext highlighter-rouge">192.168.68.5</code>? Well according to the guides that I read, this is possible because the port forwarding rules that we set before that allowing all IP to access SSH to Ubuntu VM through <code class="language-plaintext highlighter-rouge">port 2222</code> which then being redirected to <code class="language-plaintext highlighter-rouge">port 22</code>. And <code class="language-plaintext highlighter-rouge">127.0.0.1</code> itself is another way of saying <strong>localhost</strong>. I’ve tried to access it with IP <code class="language-plaintext highlighter-rouge">192.168.68.5</code> but there’s no connection, I still dunno why is that happen even though I’ve tried to add rules for it<code class="language-plaintext highlighter-rouge">¯\_(ツ)_/¯</code>. But oh well, maybe I’m just that <em>noob</em>. Oh and don’t forget to make snapshot 📷.</p>

<h2 id="setting-up-elasticsearch"><span class="me-2">Setting Up Elasticsearch</span><a href="#setting-up-elasticsearch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Okay, now the nitty gritty part of it, buckle up and prepare to get your hands dirty because there will be a lot to configure. Oh and we will continue this part on SSH connection.</p>

<h3 id="downloading-and-installing-elasticsearch"><span class="me-2">Downloading and Installing Elasticsearch</span><a href="#downloading-and-installing-elasticsearch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>But before we start downloading Elasticsearch, execute this command <code class="language-plaintext highlighter-rouge">sudo apt install apt-transport-https -y</code> to enabling us using APT transport for the HTTPS protocol which is a more secure version of HTTP and for the GPG key of the Elasticsearch. Again, some security stuffs and best practice.</p>

<p>Okay, below is screenshot and steps for Elasticsearch installation:</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/downloading-elasticsearch.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/downloading-elasticsearch.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Successfully Downloading Elasticsearch</em></p>

<ol>
  <li>First we download GPG key for the Elasticsearch with command <code class="language-plaintext highlighter-rouge">wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -</code></li>
  <li>Next, to see if the repo is exist for our Ubuntu <code class="language-plaintext highlighter-rouge">echo "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-7.x.list</code>.</li>
  <li>Now, with all of that done we could update and install Elasticsearch <code class="language-plaintext highlighter-rouge">sudo apt update -y &amp;&amp; sudo apt install elasticsearch -y</code></li>
</ol>

<p>Done and with that we could see the status of Elasticsearch service just like SSH previously with command <code class="language-plaintext highlighter-rouge">sudo systemctl status elasticsearch.service</code>.
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/elastic-systemctl-status.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/elastic-systemctl-status.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Checking Elasticsearch Service Status</em>
As you can see, the status is dead and that is because still haven’t enabling the service yet, that will be done on the next section.</p>

<h3 id="configuring-elasticsearch-and-checking-its-connection"><span class="me-2">Configuring Elasticsearch And Checking It’s Connection</span><a href="#configuring-elasticsearch-and-checking-its-connection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Before we enabling and running the service, let’s configure Elasticsearch first to suit our need like changing it’s address, protocols, ports, etc.</p>

<p>We could do that by entering command <code class="language-plaintext highlighter-rouge">sudo nano /etc/elasticsearch/elasticsearch.yml</code>. Let me explain a bit that command, basically we accessing elasticsearch.yml with super user privilege, then choosing our text editor for mine it’s <strong>nano</strong> but you could choose other text editor, and lastly we specifying the filepath of elasticsearch.yml to be able to open it.</p>

<p>After that done, you should see the text editor open up and you could start changing the properties such as shown below:
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/changing-elasticsearchyml.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/changing-elasticsearchyml.png" alt="Desktop View" width="800" loading="lazy"></a></p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/changing-elasticsearchyml-network-and-discovery-type.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/changing-elasticsearchyml-network-and-discovery-type.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Changing Elasticsearch Properties</em>
What we’re changing here is:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">cluster.name</code> to our own wanted name.</li>
  <li><code class="language-plaintext highlighter-rouge">network.host</code> to our own IP.</li>
  <li><code class="language-plaintext highlighter-rouge">http.port</code> is just commented out because this will be default value of 9200.</li>
  <li><code class="language-plaintext highlighter-rouge">discovery.type</code> is the last. This is for Elasticsearch to know whether we run a single node or multiple. More of it can be read <a href="https://www.elastic.co/docs/reference/elasticsearch/configuration-reference/discovery-cluster-formation-settings">here</a></li>
</ol>

<p>With this we then could do these following steps:</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/testing-elasticsearch-connection.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/testing-elasticsearch-connection.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Enabling Elasticsearch Service And Testing It’s Connection</em></p>

<ol>
  <li>We first enable the service with <code class="language-plaintext highlighter-rouge">sudo systemctl enable elasticsearch</code>.</li>
  <li>Then we start it <code class="language-plaintext highlighter-rouge">sudo systemctl start elasticsearch</code>.</li>
  <li>After that, checking its status <code class="language-plaintext highlighter-rouge">sudo systemctl status elasticsearch</code>.</li>
  <li>Finally we check the connection with <code class="language-plaintext highlighter-rouge">curl --get http://YOUR_OWN_IP:9200</code>. Change <code class="language-plaintext highlighter-rouge">YOUR_OWN_IP</code> with the IP you got from DHCP previously.</li>
</ol>

<h2 id="setting-up-kibana"><span class="me-2">Setting Up Kibana</span><a href="#setting-up-kibana" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Now, we do the same with Kibana, take a look this screenshot below.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/install-and-configure-kibanayml.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/install-and-configure-kibanayml.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Successfully Installing Kibana</em></p>

<p>Enter command <code class="language-plaintext highlighter-rouge">sudo apt install kibana -y</code> and wait for it to finish the process. After that we edit the Kibana YML configuration, enter command <code class="language-plaintext highlighter-rouge">sudo nano /etc/kibana/kibana.yml</code> disclaimer again, <strong>nano</strong> is my text editor choice.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/set-kibanayml-properties.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/set-kibanayml-properties.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Changing Kibana YML Properties</em></p>

<p>In here, we change:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">server.port</code>, we just commented it out because we will be using it’s default properties.</li>
  <li><code class="language-plaintext highlighter-rouge">server.host</code>, change it again to your own IP.</li>
  <li><code class="language-plaintext highlighter-rouge">server.name</code>, change it to your desire.</li>
</ol>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/change-kibanayml-authentication-cred.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/change-kibanayml-authentication-cred.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Kibana Credentials</em></p>

<p>As for Kibana credentials, we just leave it for now. We will back to it in the later steps. And with that, let’s continue next step that is enabling Kibana service.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/enabling-and-starting-kibana-services.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/enabling-and-starting-kibana-services.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Enabling Kibana Service</em></p>

<ol>
  <li>We always start with enabling service first, <code class="language-plaintext highlighter-rouge">sudo systemctl enable kibana</code>.</li>
  <li>Then start it’s service <code class="language-plaintext highlighter-rouge">sudo systemctl start kibana</code>.</li>
  <li>And finally checking it’s status with <code class="language-plaintext highlighter-rouge">sudo systemctl status kibana</code>.</li>
</ol>

<p>And that’s it, we finally installed Elasticsearch and Kibana. You could also checking Elasticsearch and Kibana status both at the same time with <code class="language-plaintext highlighter-rouge">sudo systemctl status elasticsearch &amp;&amp; sudo systemctl status kibana</code>. And as always don’t forget to take snapshot 📷.</p>

<h2 id="important-note"><span class="me-2">Important Note</span><a href="#important-note" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>This section is for those who are done for the day of configuring this lab and want to take a rest or any other task. If you want to stop, you have to shutdown all of the component properly, here’s how you do it.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/correct-way-of-stopping-services.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/correct-way-of-stopping-services.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Shutting Down System Properly</em></p>

<p>The command used is in order, so first it’s <code class="language-plaintext highlighter-rouge">sudo systemctl stop kibana</code> and the second is <code class="language-plaintext highlighter-rouge">sudo systemctl stop elasticsearch</code>. This way we could safely shut down our system without worrying the risk to break anything. And another note, <code class="language-plaintext highlighter-rouge">kibana.service</code> == <code class="language-plaintext highlighter-rouge">kibana</code> &amp;&amp; <code class="language-plaintext highlighter-rouge">elasticsearch.service</code> == <code class="language-plaintext highlighter-rouge">elastic</code>.</p>

<p>And if you guys want to continue again:</p>
<ol>
  <li>sudo systemctl start elasticsearch</li>
  <li>sudo systemctl start kibana</li>
</ol>

<h2 id="setting-up-filebeat"><span class="me-2">Setting Up Filebeat</span><a href="#setting-up-filebeat" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Same thing with previous installation steps, enter <code class="language-plaintext highlighter-rouge">sudo apt install filebeat -y</code>, wait for the process to be done and edit the YML file <code class="language-plaintext highlighter-rouge">sudo nano /etc/filebeat/filebeat.yml</code>.</p>

<p>Inside <code class="language-plaintext highlighter-rouge">filebeat.yml</code> file we could adjust and change variety of input received by Elasticsearch from <code class="language-plaintext highlighter-rouge">journald</code>, <code class="language-plaintext highlighter-rouge">winlog</code>,  Windows event logs, and many more. Winlog helps us captures more log data beyond just logged events. The guides that I follow mostly using Filebeat to collect it’s log, so let’s just focus on that too.</p>

<p>What you have to edit in the <code class="language-plaintext highlighter-rouge">filebeat.yml</code> is as follows</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/change-outputelastic-properties.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/change-outputelastic-properties.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Changing Filebeat Hosts</em>
We change that to our own IP that attached to Elasticsearch port 9200. And the next thing to is shown in screenshot below.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/disabling-logstash-and-testing-filebeat-connection.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/disabling-logstash-and-testing-filebeat-connection.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Disabling Logstash And Checking The Connection To Elastic</em>
According to the guides that I follows, this is to disable Logstash and to ensure Filebeat correctly connected to Elasticsearch. We use <code class="language-plaintext highlighter-rouge">sudo filebeat setup --index-management -E output.logstash.enabled=false 'output.elasticsearch.hosts=["YOUR_OWN_IP:9200"]'</code>.</p>

<p>Next we enable the service <code class="language-plaintext highlighter-rouge">sudo systemctl enable filebeat.service</code> and we start it <code class="language-plaintext highlighter-rouge">sudo systemctl start filebeat.service</code>. Lastly we use <code class="language-plaintext highlighter-rouge">curl --get http://YOUR_OWN_IP:9200/_cat/indices?v</code>, that command simply making an API call of the URL and printing it out in verbose but also in column format. Making it more readable. The health here is just indicator of shards whether it’s condition is healthy, caution or danger but as far as I know, this not really mean much. So don’t mind it. Oh and don’t forget to take snapshot 📷.</p>

<h2 id="ca-certificate-authorities-configuration-and-elastic-ip"><span class="me-2">CA Certificate Authorities Configuration and Elastic IP</span><a href="#ca-certificate-authorities-configuration-and-elastic-ip" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>But why making CA certificate even though Elastic come with it’s own default certificate? To my knowledge the default protocol when access Elastic is HTTP but we want it to be HTTPS, so this is where CA certificate comes in handy. With it, we could enabling HTTPS connection.</p>

<p>Now, without further a do, use <code class="language-plaintext highlighter-rouge">cd /usr/share/elasticsearch</code> to navigate to <code class="language-plaintext highlighter-rouge">elasticsearch</code> directory and enter <code class="language-plaintext highlighter-rouge">sudo touch instances.yml</code> and then open the text editor <code class="language-plaintext highlighter-rouge">sudo nano instances.yml</code>. After opening the file, insert this properties</p>
<div class="language-bash highlighter-rouge"><div class="code-header">
        <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>instances:
        - name: <span class="s2">"elasticsearch"</span>
          ip:
                  - <span class="s2">"YOUR_OWN_IP"</span>
        - name: <span class="s2">"kibana"</span>
          ip:
                  - <span class="s2">"YOUR_OWN_IP"</span>
        - name: <span class="s2">"fleet"</span>
          ip:
                  - <span class="s2">"YOUR_OWN_IP"</span>
</pre></td></tr></tbody></table></code></div></div>
<p>The IP inserted there is for fleet service able to reach out to it and make CA certificate according to the given IP there. Before exiting, save that file. And yeah, if you want, don’t forget to take snapshot 📷.</p>

<h2 id="time-to-create-ca-certificate-and-other-certificates"><span class="me-2">Time to Create CA Certificate and Other Certificates</span><a href="#time-to-create-ca-certificate-and-other-certificates" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>So next is to generate and create other certificates as well, head to <code class="language-plaintext highlighter-rouge">cd /usr/share/elasticsearch</code> and we enter command <code class="language-plaintext highlighter-rouge">sudo /usr/share/elasticsearch/bin/elasticsearch-certutil ca --pem</code>. That basically mean we using executable file that generate the certs itself, and the encryption format of are X.509. Which is a public key certificates used in TLS/SSL, and HTTPS as well to secure the web, more about that can be found <a href="https://en.wikipedia.org/wiki/X.509">here</a>. As for the <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail"><code class="language-plaintext highlighter-rouge">--pem</code></a> itself, it’s a standard file format of storing and sending encrypted key and certificate. And with that, we will get output as follows:</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/creating-ca-and-unzip-ca.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/creating-ca-and-unzip-ca.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>CA Certificates Output</em></p>

<p>One more thing to know based on that output, we using the <code class="language-plaintext highlighter-rouge">instances.yml</code> that made previously to help us generate these certificates. And we compressing it in zip file format, as for the file name I choose to name it <code class="language-plaintext highlighter-rouge">elastic-stack-cat.zip</code> but you can choose whatever name convenient to you. With it, we enter <code class="language-plaintext highlighter-rouge">sudo unzip elastic-stack-ca.zip</code> to unzipping the file.</p>

<p>Nicely done, next steps is to put use of these certificates by using it to generate private key and another certificates. Use this command <code class="language-plaintext highlighter-rouge">sudo /usr/share/elasticsearch/bin/elasticsearch-certutil cert --ca-cert ca/ca.crt --ca-key ca/ca.key --pem --in instances.yml --out cert.zip</code>. Follow the screenshot below.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/private-key-output.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/private-key-output.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Generating Private Keys</em></p>

<p>I’ll go with <code class="language-plaintext highlighter-rouge">cert.zip</code> as the name but and I we also need to unzipping this file too. And after that we need to use command <code class="language-plaintext highlighter-rouge">sudo unzip cert.zip</code> to unzipping it.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/unzipping-ca-cert-and-making-dir-certs.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/unzipping-ca-cert-and-making-dir-certs.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Unzipping Cert And Making Directory Cert</em></p>

<p>Notice that Linux making it’s own directory after unzipping it, because of that the next thing is to move all of those certificates to our newly created directory. We make directory to store all those certificates with <code class="language-plaintext highlighter-rouge">sudo mkdir certs</code>, after the directory created use <code class="language-plaintext highlighter-rouge">sudo mv /usr/share/elasticsearch/elasticsearch/* certs/</code> first, then <code class="language-plaintext highlighter-rouge">sudo mv /usr/share/elasticsearch/kibana/* certs/</code>, lastly <code class="language-plaintext highlighter-rouge">sudo mv /usr/share/elasticsearch/fleet/* certs/</code>. After the copying steps done, we then use <code class="language-plaintext highlighter-rouge">sudo mkdir -p /etc/elasticsearch/certs/ca &amp;&amp; sudo mkdir -p /etc/kibana/certs/ca &amp;&amp; sudo mkdir -p /etc/fleet/certs/ca</code> to make CA own directory just like screenshot below where we could store our CA certificates.</p>

<p>The CA directory has been made, now we copy CA certs and other certificates to their respective directory with these command.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">sudo cp ca/ca.* /etc/elasticsearch/certs/ca &amp;&amp; sudo cp ca/ca.* /etc/kibana/certs/ca &amp;&amp; sudo cp ca/ca.* /etc/fleet/certs/ca</code></li>
  <li><code class="language-plaintext highlighter-rouge">sudo cp certs/elasticsearch.* /etc/elasticsearch/certs/ &amp;&amp; sudo cp certs/kibana.* /etc/kibana/certs/ &amp;&amp; sudo cp certs/fleet.* /etc/fleet/certs/</code></li>
</ul>

<p>I used list command to check the directory and noticing that there’s still certs directories left around. So lastly just like mom used to say, clean up after playing with your toy and like a good kid we are we clean up our mess with <code class="language-plaintext highlighter-rouge">sudo rm -r elasticsearch/ kibana/ fleet/</code>
<a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/copy-private-key-and-ca-with-clean-up.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/copy-private-key-and-ca-with-clean-up.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Moving The Certificates Files</em></p>

<p>Also don’t forget to take snapshot 📷 hehehehe.</p>

<h2 id="best-practice-for-siem-deployment"><span class="me-2">Best Practice For SIEM Deployment</span><a href="#best-practice-for-siem-deployment" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>This section is for us to implement best practice when we deploying SIEM is to have least privilege within our systems and according nubb, the PrintNightmare threat is still lurking rampant out there so gotta be careful. More about that you could read <a href="https://www.sygnia.co/threat-reports-and-advisories/demystifying-the-print-nightmare-vulnerability/">here</a>.</p>

<p>And this also correlate with our usage of sudo command where we want the least privilege. With that in mind, head to <code class="language-plaintext highlighter-rouge">cd /usr/share</code> and execute commands:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">sudo chown -R elasticsearch:elasticsearch elasticsearch/</code>,  which will recursively set the ownership of the elasticsearch.</li>
  <li><code class="language-plaintext highlighter-rouge">sudo chown -R elasticsearch:elasticsearch /etc/elasticsearch/certs/ca</code>
The first command let us set the <code class="language-plaintext highlighter-rouge">elasticsearch</code> directory to <strong>Elasticsearch</strong> and also change its group to <code class="language-plaintext highlighter-rouge">elasticsearch</code> that helps us limit permission to again, <strong>Elasticsearch</strong>. Second command is doing the same thing but for <code class="language-plaintext highlighter-rouge">ca</code> directory.</li>
</ul>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/best-practice-for-siem-deployment.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/best-practice-for-siem-deployment.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Best Practice SIEM Deployment</em></p>

<p>Based on that screenshot, the command being used is <code class="language-plaintext highlighter-rouge">sudo openssl x509 -in /etc/elasticsearch/certs/elasticsearch.crt -text -noout</code>. Where there’s couple of command flag that I want to explain to the best of my understanding. <code class="language-plaintext highlighter-rouge">-in</code> flag used to specifying the certificate to check out, <code class="language-plaintext highlighter-rouge">-text</code> to make the output in readable format and lastly <code class="language-plaintext highlighter-rouge">-noout</code> is basically minimizing the gibberish encoded message to help further making it more readable.</p>

<h2 id="setting-up-https-connection-with-the-certificates"><span class="me-2">Setting Up HTTPS Connection With the Certificates</span><a href="#setting-up-https-connection-with-the-certificates" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>First head to the <code class="language-plaintext highlighter-rouge">kibana.yml</code> file with <code class="language-plaintext highlighter-rouge">sudo nano /etc/kibana/kibana.yml</code> and we copy this YML script below:</p>
<div class="language-yml highlighter-rouge"><div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="na">server.ssl.enabled</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">server.ssl.certificate</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/etc/kibana/certs/kibana.crt"</span>
<span class="na">server.ssl.key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/etc/kibana/certs/kibana.key"</span>

<span class="na">elasticsearch.hosts</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">https://YOUR_OWN_IP:9200"</span><span class="pi">]</span>
<span class="na">elasticsearch.ssl.certificateAuthorities</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/etc/kibana/certs/ca/ca.crt"</span><span class="pi">]</span>
<span class="na">elasticsearch.ssl.certificate</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/etc/kibana/certs/kibana.crt"</span>
<span class="na">elasticsearch.ssl.key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/etc/kibana/certs/kibana.key"</span>

<span class="na">server.publicBaseUrl</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://YOUR_OWN_IP:5601"</span>

<span class="na">xpack.security.enabled</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">xpack.security.session.idleTimeout</span><span class="pi">:</span> <span class="s2">"</span><span class="s">30m"</span>
<span class="na">xpack.encryptedSavedObjects.encryptionKey</span><span class="pi">:</span> <span class="s2">"</span><span class="s">min-32-byte-long-strong-encryption-key"</span>
</pre></td></tr></tbody></table></code></div></div>
<p>Remember to change <code class="language-plaintext highlighter-rouge">YOUR_OWN_IP</code> to your own IP and also some of you might notice that I input <code class="language-plaintext highlighter-rouge">10.0.2.15</code> as the IP right? Well that just me being dumbo and you will see what happen when you don’t correctly set the IP in the next section. And all of These properties is all within the <code class="language-plaintext highlighter-rouge">kibana.yml</code> but it will be pain in the ass to search each of it and editing them so yeah, just copy that. And it will look like this.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/configuring-kibana-ssl-https.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/configuring-kibana-ssl-https.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Configuring Kibana SSL</em></p>

<p>The properties here somewhat self explanatory, the public base URL is our Kibana address, and others is for our encryption thingies.  But albeit, I agree with nubb here, I was also confused when first time handling the certificates and encryption stuff of ELK stack. But basically it’s just how Kibana telling Elastic that the communication between them is secured with various encrypted certificates and that Kibana make sure, it is trusted Kibana that talking with Elasticsearch.</p>

<p>Or, cmiiw that is just how I understands these whole shenanigan. Proceed to next step that is basically the same but for <code class="language-plaintext highlighter-rouge">elasticsearch.yml</code>. <code class="language-plaintext highlighter-rouge">sudo nano /etc/elasticsearch/elasticsearch.yml</code> and start add the properties.</p>

<div class="language-yml highlighter-rouge"><div class="code-header">
        <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="na">xpack.security.enabled</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">xpack.security.authc.api_key.enabled</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">xpack.security.transport.ssl.enabled</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">xpack.security.transport.ssl.verification_mode</span><span class="pi">:</span> <span class="s">certificate</span>
<span class="na">xpack.security.transport.ssl.key</span><span class="pi">:</span> <span class="s">/etc/elasticsearch/certs/elasticsearch.key</span>
<span class="na">xpack.security.transport.ssl.certificate</span><span class="pi">:</span> <span class="s">/etc/elasticsearch/certs/elasticsearch.crt</span>
<span class="na">xpack.security.transport.ssl.certificate_authorities</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/etc/elasticsearch/certs/ca/ca.crt"</span><span class="pi">]</span>

<span class="na">xpack.security.http.ssl.enabled</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">xpack.security.http.ssl.verification_mode</span><span class="pi">:</span> <span class="s">certificate</span>
<span class="na">xpack.security.http.ssl.key</span><span class="pi">:</span> <span class="s">/etc/elasticsearch/certs/elasticsearch.key</span>
<span class="na">xpack.security.http.ssl.certificate</span><span class="pi">:</span> <span class="s">/etc/elasticsearch/certs/elasticsearch.crt</span>
<span class="na">xpack.security.http.ssl.certificate_authorities</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/etc/elasticsearch/certs/ca/ca.crt"</span><span class="pi">]</span>
</pre></td></tr></tbody></table></code></div></div>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/configuring-elasticsearch-ssl-https.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/configuring-elasticsearch-ssl-https.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Configuring Elasticsearch SSL</em></p>

<p>I’ll leave the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/security-settings.html#token-service-settings">official documentation</a> for you to read more information and nubb explanation about this SSL things. And I agree again with nubb here, are the Elastic devs high on something when making the script to not use quotation for file path? Only God and them knows why.</p>

<p>With that said and done, we have to <code class="language-plaintext highlighter-rouge">sudo systemctl restart elasticsearch</code> and next <code class="language-plaintext highlighter-rouge">sudo systemctl restart kibana</code> on respective order for enabling us applying the changes. With that don’t forget to take snapshot 📷.</p>

<h2 id="testing-connections-to-elasticsearch"><span class="me-2">Testing Connections to Elasticsearch</span><a href="#testing-connections-to-elasticsearch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Now let’s what all of these headache got us. Execute the command <code class="language-plaintext highlighter-rouge">curl --get https://YOUR_OWN_IP:9200</code>.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/testing-curl-for-https-and-ssl-with-insecure-flag.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/testing-curl-for-https-and-ssl-with-insecure-flag.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Testing Connections</em></p>

<p>Notice that it failed for the first time? Yeah, like I said, if it’s too good to be true in IT, chances are you missing something. Apparently the reason for the failed testing is because while the Kibana and Elasticsearch trust each other, the browser is don’t.</p>

<p>Kinda like when you bring your other friend to your other friend, of course they still don’t trust each other instantly right?. That is why as their friend you would say “Trust me bro, this kid is good” and that is exactly what we would do with the command <code class="language-plaintext highlighter-rouge">curl --get https://10.0.2.15:9200 --insecure | jq</code> the <code class="language-plaintext highlighter-rouge">--insecure</code> is the “trust me bro” in this case where we bypassing it temporarily and as for the <code class="language-plaintext highlighter-rouge">jq</code> telling the output to make on JSON format. This why we install JSON packages previously.</p>

<h2 id="creating-credentials"><span class="me-2">Creating Credentials</span><a href="#creating-credentials" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Now one more thing before we see ELK stack frontend, we have to generate credential in order to login to ELK stack. Here’s the command <code class="language-plaintext highlighter-rouge">sudo /usr/share/elasticsearch/bin/elasticsearch-setup-passwords auto</code> and basically this means we let the Elastic generate it for us. All the information about it can be found <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-passwords.html">here</a>. Here’s what it will look like</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/generating-credential-for-elastic.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/generating-credential-for-elastic.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Generated Credentials</em></p>

<p>And don’t forget to save all of that credentials, oh and also <strong>don’t change the <code class="language-plaintext highlighter-rouge">elastic.username</code> but just change password of it to the generated password previously. The ELK stack will stuck on endless loop if you don’t change those two properties</strong>. The <code class="language-plaintext highlighter-rouge">elastic</code> username used for superuser and it basically the core user of ELK. Changing it will make ELK stack error.</p>

<p>Now with all of that restart the ELK stack with <code class="language-plaintext highlighter-rouge">sudo systemctl restart kibana &amp;&amp; sudo systemctl restart elasticsearch</code>.</p>

<p>Now we ready to login ELK stack and using it. But before that, don’t forget to take snapshot 📷.</p>

<h2 id="rule-forwarding-for-elk"><span class="me-2">Rule Forwarding For ELK</span><a href="#rule-forwarding-for-elk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>One last setting that we need to set before connecting to ELK stack is to add another port forwarding rules but this time for the connection to ELK stack. For the sake of simplicity, here’s the step below.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/make-elastic-connection-forwarding-rules.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/make-elastic-connection-forwarding-rules.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Adding ELK Connection In Port Forwarding Rule</em></p>

<p>To add the rule above, we head to <code class="language-plaintext highlighter-rouge">Virtual Box Manager</code> just like previously we add SSH rule and then select <code class="language-plaintext highlighter-rouge">Network</code> &gt; <code class="language-plaintext highlighter-rouge">NAT Network</code> &gt; select <code class="language-plaintext highlighter-rouge">Port Forwarding</code> tab &gt; and click on the green plus icon. Just like that, we add the rule just like shown picture above. Finally, with this we could connecting to the ELK stack.</p>

<h2 id="moment-of-truth"><span class="me-2">Moment of Truth</span><a href="#moment-of-truth" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Oh and if you just start again don’t forget to start the ELK stacks. I’ll explain it further but take a look this screenshot.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/our-first-kibana-logging-in.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/our-first-kibana-logging-in.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Let The Browser Trust The Connection</em></p>

<p>The browser showing that because it still don’t trust the ELK stack connection yet and warning us. But we know this is a trusted connection and let the browser know that by clicking <strong>Advanced…</strong> and <strong>Accept the Risk and Continue</strong></p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/kibana-server-is-not-ready-yet.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/kibana-server-is-not-ready-yet.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Kibana Server Not Ready Yet</em></p>

<p>Interesting that we access it with <code class="language-plaintext highlighter-rouge">https://127.0.0.1:5601</code> but not with <code class="language-plaintext highlighter-rouge">YOUR_OWN_IP</code>. Why is that? Well, that is because the ELK stack hosted on your own IP but not accessible publicly, that is why accessing it locally with <code class="language-plaintext highlighter-rouge">127.0.0.1</code>. And what’s that <code class="language-plaintext highlighter-rouge">not ready yet</code> message? Welp, just like the name suggested, the system is indeed not ready yet, maybe warm up or smth <code class="language-plaintext highlighter-rouge">¯/_(ツ)_/¯</code>.</p>

<p>We a bit and….. voilà, the ELK stack front ladies and gentlemen. Phew… that was long journey huh? Nicely done guys.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/voila-the kibana is-ready.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/voila-the kibana is-ready.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>ELK Stack Finally Able To Use</em></p>

<h2 id="whats-about-the-wrong-ip-before"><span class="me-2">What’s About the Wrong IP Before?</span><a href="#whats-about-the-wrong-ip-before" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>This last section is to explanation the silliness that made previously by entering wrong IP. Basically what will happen is that ELK stack will infinitely on <strong>Not Ready Yet</strong> status and to fix it?</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/kibana-server-is-not-ready-yet.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/kibana-server-is-not-ready-yet.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Infinite Kibana Server Not Ready Yet</em></p>

<p>To fix it we have to change it back to your correct IP in <code class="language-plaintext highlighter-rouge">kibana.yml</code> like shown in the picture below.</p>

<p><a href="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/if-youre-not-a-dumbo-change-the-goddamn-ip.png" class="popup img-link  shimmer"><img src="/assets/img/posts/2025-05-20-ELK-installation-with-two-vm/if-youre-not-a-dumbo-change-the-goddamn-ip.png" alt="Desktop View" width="800" loading="lazy"></a>
<em>Change that 10.0.2.15 With Your Own Ip</em></p>

<p>And that <code class="language-plaintext highlighter-rouge">10.0.2.15</code> needed to be change to your own IP. With that, you finally fixing the <strong>Not Ready Yet</strong> status.</p>

<h2 id="last-words-and-references"><span class="me-2">Last Words and References</span><a href="#last-words-and-references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Thank you so much for spending your time following and reading through all of the yapping from me. I really hope this guide helping you on some way with your learning journey of cyber security stuff. And with this final words, I want to reference some of the sources that I used in this part of guide.</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: left">References</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">nubb guide on github. <a href="https://github.com/nubbsterr/Elastic-SIEM-Setup">Elastic-SIEM-Setup</a></td>
    </tr>
    <tr>
      <td style="text-align: left">LevelEffect guide by Will Nissler. <a href="https://www.leveleffect.com/blog/how-to-set-up-your-own-home-lab-with-elk">How to Set Up Your Own Home Lab with ELK</a></td>
    </tr>
    <tr>
      <td style="text-align: left">ELK stack definition. <a href="https://www.elastic.co/elastic-stack">elastic</a></td>
    </tr>
    <tr>
      <td style="text-align: left">Elastic discovery documentation. <a href="https://www.elastic.co/docs/reference/elasticsearch/configuration-reference/discovery-cluster-formation-settings">Discovery and cluster formation settings</a></td>
    </tr>
    <tr>
      <td style="text-align: left">X.509 definition. <a href="https://en.wikipedia.org/wiki/X.509">X.509</a></td>
    </tr>
    <tr>
      <td style="text-align: left">PrintNightmare information. <a href="https://www.sygnia.co/threat-reports-and-advisories/demystifying-the-print-nightmare-vulnerability/">Demystifying The PrintNightmare Vulnerability</a></td>
    </tr>
    <tr>
      <td style="text-align: left">SSL and other security information of ELK stack documentation. <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/security-settings.html#token-service-settings">Security settings in Elasticsearch</a></td>
    </tr>
    <tr>
      <td style="text-align: left">PEM certificate formats information. <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail">Privacy-Enhanced Email</a></td>
    </tr>
    <tr>
      <td style="text-align: left">Kibana endless not ready yet status fix. <a href="https://stackoverflow.com/questions/58011088/kibana-server-is-not-ready-yet">Kibana server is not ready yet [closed]</a></td>
    </tr>
  </tbody>
</table></div>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/tutorial/">Tutorial</a>,
          <a href="/categories/siem/">SIEM</a>,
          <a href="/categories/elk-stack/">ELK Stack</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/elasticsearch/"
            class="post-tag no-text-decoration"
          >elasticsearch</a>
        
          <a
            href="/tags/siem/"
            class="post-tag no-text-decoration"
          >siem</a>
        
          <a
            href="/tags/windows/"
            class="post-tag no-text-decoration"
          >windows</a>
        
          <a
            href="/tags/linux/"
            class="post-tag no-text-decoration"
          >linux</a>
        
          <a
            href="/tags/virtualbox/"
            class="post-tag no-text-decoration"
          >virtualbox</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=ELK%20Installation%20With%20Two%20VMs%20For%20Home%20Lab%20-%20Kevin%20Alexander&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Felk-installation-with-two-vm%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=ELK%20Installation%20With%20Two%20VMs%20For%20Home%20Lab%20-%20Kevin%20Alexander&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Felk-installation-with-two-vm%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Felk-installation-with-two-vm%2F&text=ELK%20Installation%20With%20Two%20VMs%20For%20Home%20Lab%20-%20Kevin%20Alexander" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/python-learning-part-4-iteration-and-loops/">Python Learning, Part 4. Iteration & Loops</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/python-learning-part-2-lists/">Python Learning, Part 2. Lists</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/python-learning-part-3-modules-and-functions/">Python Learning, Part 3. Modules and Functions</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/python-learning-part-1-datatypes/">Python Learning, Part 1. Datatypes</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/creating-elastic-login-dashboard/">Creating Elastic Login Dashboard</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/elasticsearch/">elasticsearch</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/siem/">siem</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/windows/">windows</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/learning-journal/">learning journal</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/learning/">learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/lists/">lists</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/detection/">detection</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/endpoint/">endpoint</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/creating-elastic-login-dashboard/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1750059600"
  data-df="ll"
  
>
  Jun 16, 2025
</time>

              <h4 class="pt-0 my-2">Creating Elastic Login Dashboard</h4>
              <div class="text-muted">
                <p>Before We Start

Welcome to another post of me yapping about cyber security. This time, I want to yap about how to build your own dashboard in Elastic. This post is done with objective of allowing ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/integrating-fleet-server-and-preparing-windows-vm/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1747728900"
  data-df="ll"
  
>
  May 20, 2025
</time>

              <h4 class="pt-0 my-2">Integrating Fleet Server And Preparing Windows VM</h4>
              <div class="text-muted">
                <p>A Little Reminder

This is part two, continuation from my previous post(part one) where we walk through installing ELK stack SIEM. On this part two, we will take a look at how to integrating our EL...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/detecting-windows-logon-vents-4624-4625-with-elasticsearch-as-a-lightweight-self-managed-siem/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1744440000"
  data-df="ll"
  
>
  Apr 12, 2025
</time>

              <h4 class="pt-0 my-2">Detecting Windows Logon Events 4624-4625 With Elasticsearch As a SIEM</h4>
              <div class="text-muted">
                <p>Detecting My First Event

First time I’m diving into cyber security and being tasked to explore Elasticsearch and it’s functionality, that is where I’m really in a dark as to how and where to begin...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/detecting-windows-logon-vents-4624-4625-with-elasticsearch-as-a-lightweight-self-managed-siem/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Detecting Windows Logon Events 4624-4625 With Elasticsearch As a SIEM</p>
    </a>
  

  
    <a
      href="/posts/integrating-fleet-server-and-preparing-windows-vm/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Integrating Fleet Server And Preparing Windows VM</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://www.linkedin.com/in/kvn-alexander-707/">Kevin Alexander</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
      >Some rights reserved.</span>
    
  </p>

  <p>Using the <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.2.4"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/elasticsearch/">elasticsearch</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/siem/">siem</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/windows/">windows</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/learning-journal/">learning journal</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/learning/">learning</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/lists/">lists</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/detection/">detection</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/endpoint/">endpoint</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->


    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
      noResultsText: '<p class="mt-5">Oops! No results found.</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

